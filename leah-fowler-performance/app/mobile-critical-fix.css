/* CRITICAL MOBILE HEIGHT FIX - AGGRESSIVE OVERRIDES */

/* Force reasonable heights on mobile */
@media (max-width: 640px) {
  /* Global section height constraints */
  section {
    padding-top: 2rem !important;    /* 32px max */
    padding-bottom: 2rem !important; /* 32px max */
  }

  /* Fix all excessive margins */
  section * {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }

  /* Allow only specific spacing */
  section h1,
  section h2,
  section h3 {
    margin-bottom: 1rem !important;
  }

  section p {
    margin-bottom: 0.75rem !important;
  }

  section > div {
    margin-bottom: 1rem !important;
  }

  /* Fix grid and flex gaps */
  .grid,
  [class*="grid"] {
    gap: 1rem !important;
  }

  .flex,
  [class*="flex"] {
    gap: 0.5rem !important;
  }

  /* Fix all padding */
  section div[class*="p-"],
  section div[class*="px-"],
  section div[class*="py-"],
  section div[class*="pt-"],
  section div[class*="pb-"],
  section div[class*="pl-"],
  section div[class*="pr-"] {
    padding: 1rem !important;
  }

  /* Specific component fixes */

  /* OnlinePackageShowcase specific */
  section:has(h2:has-text("Online Package")) > div > div {
    margin-bottom: 1.5rem !important;
  }

  /* Feature cards */
  section:has(h2:has-text("Online Package")) .grid > div {
    padding: 1rem !important;
    margin: 0 !important;
  }

  /* Transformation timeline */
  section:has(h2:has-text("Online Package")) div[class*="my-"] {
    margin-top: 1.5rem !important;
    margin-bottom: 1.5rem !important;
  }

  /* App mockup section */
  section:has(h2:has-text("Online Package")) div[class*="rounded-3xl"] {
    padding: 1.5rem !important;
  }

  /* FAQ Section specific */
  section:has(h2:has-text("FAQ")) > div > div {
    margin-bottom: 1rem !important;
  }

  /* FAQ accordion items */
  section:has(h2:has-text("FAQ")) button {
    padding: 1rem !important;
  }

  section:has(h2:has-text("FAQ")) [data-state="open"] > div {
    padding: 0.75rem !important;
  }

  /* Pricing section */
  section:has(h2:has-text("Choose Your")) > div > div {
    margin-bottom: 1rem !important;
  }

  /* Pricing cards */
  section:has(h2:has-text("Choose Your")) .grid > div > div {
    padding: 1.5rem !important;
  }

  /* About section */
  section:has(h2:has-text("Leah Fowler")) > div > div {
    margin-bottom: 1rem !important;
  }

  /* Contact section */
  section:has(h2:has-text("Contact")) > div > div {
    margin-bottom: 1rem !important;
  }
}

/* Medium screens (tablets) - moderate spacing */
@media (min-width: 641px) and (max-width: 1023px) {
  section {
    padding-top: 3rem !important;
    padding-bottom: 3rem !important;
  }

  section > div > div[class*="mb-"] {
    margin-bottom: 2rem !important;
  }

  .grid {
    gap: 1.5rem !important;
  }
}

/* Emergency override for any section still too tall */
@media (max-width: 640px) {
  /* Nuclear option - constrain any section over 2000px */
  section {
    max-height: none !important; /* Changed from 2000px to prevent scrolling */
    overflow: visible !important; /* Keep content visible */
  }

  /* But ensure content is still accessible */
  section > * {
    max-height: none !important;
  }

  /* Ensure About section is never separately scrollable */
  section#about {
    max-height: none !important;
    overflow-y: visible !important;
    overflow-x: hidden !important;
    height: auto !important;
  }

  /* Ensure all child containers in About section also don't have overflow scrolling */
  section#about > * {
    max-height: none !important;
    overflow-y: visible !important;
  }

  section#about .grid {
    max-height: none !important;
    overflow-y: visible !important;
  }
}

/* Remove animation delays that might affect height calculations */
@media (max-width: 640px) {
  [data-framer-motion],
  [style*="transform"],
  [style*="opacity"] {
    animation: none !important;
    transition: none !important;
  }
}

/* Fix for duplicate sections if they exist */
section + section {
  margin-top: 0 !important;
}

/* Ensure no hidden overflow is causing issues */
section {
  overflow-x: hidden !important;
  overflow-y: visible !important;
}

/* Fix any absolute positioned elements that might be expanding sections - MOBILE ONLY */
@media (max-width: 640px) {
  section [class*="absolute"] {
    position: absolute !important;
    height: auto !important;
    max-height: 100% !important;
  }
}